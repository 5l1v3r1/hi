from multiprocessing.dummy import Pool as ThreadPool 
import urllib2, re, requests, os
if os.name == 'nt':
	os.system('cls')
else:
	os.system('clear')
#list
shells = ['wso.php','shell.php','an.php','hacker.php','lol.php','up.php','cp.php','upload.php','sh.php','pk.php','mad.php','x00x.php','worm.php','1337worm.php','config.php','x.php','haha.php','1337.php','k2ll3d.php','mailer.php','leafmailer.php']
#end
def grabber(lien, defacer, pagenum):
    target = lien
    try:
        rp = urllib2.rpuest(target, None, {'User-agent' : 'Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5'})
        data = urllib2.urlopen(rp).read()
        l = re.findall('red on [\w.]+ [\w.]+ [\w.]+',data)
        l = l[0].split(' ')
        date = l[2] + ' ' + l[3] + ' ' + l[4]
        print 'Google Cache Date:', date
        domains = re.findall('&lt;td&gt;[\w.-]+',data)
        for i in domains:
            if '.' in i:
                i = i.replace('&lt;td&gt;','')
                print '[' + str(pagenum) + '] http://' + i
                pagenum += 1
                open(defacer + '.txt', 'a+').write('http://' + i + '\n')
        return pagenum
    except:
        return pagenum

def zone():
    pagenum = 1
    defacer = raw_input("Enter Notifier Name: ")
    pagenum = grabber("http://webcache.googleusercontent.com/search?q=cache:www.zone-h.org/archive/notifier%3D" + defacer + "&pagenum=1&client=opera&hl=en&gl=bd&strip=0&vwsrc=1", defacer, pagenum)
    for i in range(2, 51):
        pagenum = grabber("http://webcache.googleusercontent.com/search?q=cache:www.zone-h.org/archive/notifier%3D" + defacer + "/page=" + str(i) + "&pagenum=1&client=opera&hl=en&gl=bd&strip=0&vwsrc=1", defacer, pagenum)
    print pagenum, "domain fucked successfully"
    print "saved in "+defacer+'.txt'
def fucker(lista):
	with open(lista) as f:
	    content = f.readlines()
	content = [x.strip() for x in content]
	for i in content :
		for j in shells : 
			noob = i+'/'+j
			try :
				w = requests.get(noob)
				if w.status_code == 200 :
					print "[Found] > "+noob
					save = open("shell.txt", 'a')
					save.write(noob+'\n')
			except : 
				pass 
def main() :
	print "[1]-ZONE-H SITES GRABBER"
	print "[2]-SHELL FINDER"
	ch = raw_input("Choose What You Need > ")
	if ch == '1':
		zone()
	if ch == '2':
		li = raw_input("list of site name > ")
		fucker(li)
main()

