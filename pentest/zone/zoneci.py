import requests, httplib
import socket
from platform import system
import os
import sys, time
import re

#------------------ Help -----------------------------------
#Video How Use Script : 
#Use Python 27
#Install Requests : pip install requests
#Fuck Any One Edit To Logo -_- 
#--------------------------------------------------
url = "http://www.zone-h.org/archive/notifier="
urll = "http://zone-h.org/archive/published=0"

#-------------------- Cookies -------------------------
my_cook = {
	"ZHE" : "16dfb478e361f2cd7de8e9dcc501c27e" ,
	"PHPSESSID" : "ggrm1mgjdilkbr0ueagc68eo67"
	}
#------------------------------------------------------

exploit = ["/admin/login.php","/admin/panel.php","/admin/","/login.php","/admin.html","/admin.php","/admin-login.php"]

def notifierr():
	notf = raw_input("\033[95mEntre notifier: \033[92m")
	zeb = int(raw_input("\033[95mEntre Num Of Page: \033[92m"))

	for i in range(1, zeb):
		dz = requests.get(url + notf +"/page=" + str(i), cookies=my_cook)
		dzz = dz.content
		if '<html><body>-<script type="text/javascript"' in dzz:
			sys.exit()
		elif "captcha" in dzz:
			print("Entre Captcha In Browser Of Site [zone-h.org]")
		else:
			print("\033[95m\tWait To Grabb Page: "),i
			Hunt_urls = re.findall('<td>(.*)\n							</td>', dzz)
			for xx in Hunt_urls:
				print '\033[91m    ['  + '*' + '] ' + xx.split('/')[0]
				with open( notf + '.txt', 'a') as rr:
					rr.write(xx.split('/')[0] + '\n')


def qqq():
	ok = int(raw_input("\033[95mEntre Num Of page [Maximum Page: 50]: \033[92m"))
	for qwd in range(1, ok):
		rb = requests.get(urll + "/page=" + str(qwd) , cookies=my_cook)
		dzq = rb.content

		if '<html><body>-<script type="text/javascript"' in dzq:
			print("Change Cookies Plz")
			sys.exit()
		elif "captcha" in dzq:
			print("Entre Captcha In Browser Of Site [zone-h.org]")

		else:
			print("\033[95m\tWait To Grabb Page: "),qwd
			Hunt_urlss = re.findall('<td>(.*)\n							</td>', dzq)
			for xxx in Hunt_urlss:
				print '\033[91m    ['  + '*' + '] ' + xxx.split('/')[0]
				with open('onhold.txt', 'a') as rrr:
					rrr.write(xxx.split('/')[0] + '\n')

def test():
    try:
    	q = raw_input('\033[96m Entre Liste Site: \033[90m ')
    	q = open(q, 'r')
    except:
    	print("Entre List Sites -_- #Noob ")

    for lst in q:
        lst = lst.rstrip()
        print("\033[94m 	Wait Scaning ....... \033[94m"), lst
        for exploits in exploit:
            exploits.rstrip()
            try:

                if lst[:7] == "http://":
                    lst = lst.replace("http://","")
                if lst[:8] == "https://":
                    lst = lst.replace("https://", "")
                if lst[-1] == "/":
                    lst = lst.replace("/","")
                socket.setdefaulttimeout(5)
                conn = httplib.HTTPConnection(lst)
                conn.request("POST", exploits)
                conn = conn.getresponse()
                htmlconn = conn.read()
                if conn.status == 200 and ('type="password"') in htmlconn:
                    print("\033[92m [+] Admin Panel [+] ======\033[96m=======> \033[96m ") , lst + exploits
                    with open("admin_panels.txt", "a") as by:
                        by.writelines(lst + exploits + "\n")
                else:
                    print("\033[91m [-] Not Found : [-]"),lst + exploits
            except:
                pass

def clearscrn():
    if system() == 'Linux':
        os.system('clear')
    if system() == 'Windows':
        os.system('cls')
        os.system('color a')
clearscrn()

def slowprint(s):
    for c in s + '\n':
        sys.stdout.write(c)
        sys.stdout.flush()
        time.sleep(4. / 100)

def logo():
    print("""\033[95m
                                   _       _       _    _ _ _ _____
          __ _ _ __ ___   __ _ ___(_) __ _| |__   | | _(_) | |___ / _ __
         / _` | '_ ` _ \ / _` |_  / |/ _` | '_ \  | |/ / | | | |_ \| '__|    \033[91m
        | (_| | | | | | | (_| |/ /| | (_| | | | | |   <| | | |___) | |       \033[90m       
         \__,_|_| |_| |_|\__,_/___|_|\__, |_| |_| |_|\_\_|_|_|____/|_|  
                                     |___/
                                     
                                	    Script Name : Mnanok Tester ^_^
                 		Developed By : Trojan Kill3r Amazigh / Aziz Messaoudi
                                     """)

logo()
slowprint("\n\t\t\t\t\tCoded By " + "\033[95m ./Trojan Kill3r Amazigh" + "\n\t\t\t\t\t\t            \033[92m Facebook: fb.com/amazigh.kil3r")
def help():
	print("""
		----_______________---

		[1] Grabb By Onhold :*
		[2] Grabb By Notifier <3
		
		<3_________________<3

		[3] Bypass Finder ^_^

			\t\t\tchoose number 1 / 2 / 3 : 
 		""")		
	try:
		qq = int(raw_input("\033[95mPress Number [1 / 2 / 3] : \033[92m"))
		if qq == 1:
			qqq()
		elif qq == 2:
			notifierr()
		elif qq == 3:
			test()
		else:
			logo()
			sys.exit()
	except:
		clearscrn()
		logo()
		print("\033[91mKi zebi Nta -_- Nooooooooooooob")
		print("\033[95mIf Script Not Grabbed Just Work Edit Script And Change The Cookies : [PHPSESSID & ZHE] ")
		print("For Get cookies Go  To  Zone [F12 --> Application --> cookies --> Copy Past [PHPSESSID & ZHE] To Script And Good Luck ^_^")
		print("\033[91mTrojan Kil3r Amazigh [Algerien] [We Are Not Pro But We Are Not Noob ^_^]")

help()
